<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>AI-Driven Workforce Management</title>
  <link href="https://cdn.jsdelivr.net/npm/tailwindcss@2.2.19/dist/tailwind.min.css" rel="stylesheet">
  <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
</head>
<body class="bg-gray-100 font-sans text-gray-900">

  <!-- ===== NAVBAR ===== -->
  <nav class="bg-blue-700 p-4 text-white flex justify-between items-center">
    <h1 class="text-2xl font-bold">Smart Factory Workforce</h1>
    <div>
      <button onclick="showSection('home')" class="px-3 hover:text-gray-300">Home</button>
      <button onclick="showSection('login')" class="px-3 hover:text-gray-300">Login</button>
      <button onclick="showSection('dashboard')" class="px-3 hover:text-gray-300">Dashboard</button>
    </div>
  </nav>

  <!-- ===== HOME SECTION ===== -->
  <section id="home" class="py-20 text-center bg-gradient-to-r from-blue-600 to-indigo-700 text-white">
    <h2 class="text-4xl font-bold mb-4">Skill-Based Role Assignment & Workforce Intelligence</h2>
    <p class="max-w-3xl mx-auto text-lg mb-8">
      AI-powered Workforce Management System that automates skill-based task assignment in smart factories.
      Matches workers to tasks using skills, experience, and availability while giving managers real-time insights on performance.
    </p>
    <button onclick="showSection('login')" class="bg-white text-blue-700 font-semibold px-6 py-3 rounded-lg hover:bg-gray-100">
      Manager Login
    </button>
  </section>

  <!-- ===== LOGIN SECTION ===== -->
  <section id="login" class="hidden flex justify-center items-center py-20 bg-gray-50">
    <div class="bg-white shadow-lg rounded-xl p-10 w-96">
      <h2 class="text-2xl font-bold text-center text-blue-700 mb-6">Manager Login</h2>
      <input type="text" id="username" placeholder="Username" class="w-full p-3 border rounded mb-4 focus:ring-2 focus:ring-blue-500" />
      <input type="password" id="password" placeholder="Password" class="w-full p-3 border rounded mb-4 focus:ring-2 focus:ring-blue-500" />
      <button onclick="login()" class="w-full bg-blue-700 text-white py-2 rounded hover:bg-blue-800">Login</button>
      <p id="error" class="text-red-600 text-sm mt-3 text-center"></p>
    </div>
  </section>

  <!-- ===== DASHBOARD SECTION ===== -->
  <section id="dashboard" class="hidden py-16 px-6 bg-gray-50">
    <div class="max-w-5xl mx-auto bg-white p-8 rounded-xl shadow-lg">
      <h2 class="text-3xl font-bold text-blue-700 mb-6 text-center">AI Workforce Management Dashboard</h2>

      <div class="text-right mb-4">
        <button onclick="logout()" class="bg-red-600 text-white px-4 py-2 rounded hover:bg-red-700">Logout</button>
      </div>

      <button onclick="assignTasks()" class="bg-blue-600 text-white px-6 py-2 rounded hover:bg-blue-700">Run AI Task Assignment</button>

      <div id="assignmentOutput" class="mt-6 text-gray-800"></div>

      <h3 class="text-xl font-semibold mt-10 mb-4 text-blue-700">Workforce Productivity Chart</h3>
      <canvas id="productivityChart"></canvas>
    </div>
  </section>

  <!-- ===== FOOTER ===== -->
  <footer class="bg-blue-800 text-white text-center py-4 mt-10">
    © 2025 SmartFactoryX | AI-Driven Workforce Management
  </footer>

  <script>
    // ===== SECTION NAVIGATION =====
    function showSection(sectionId) {
      document.querySelectorAll("section").forEach(sec => sec.classList.add("hidden"));
      document.getElementById(sectionId).classList.remove("hidden");
    }

    // ===== LOGIN FUNCTION =====
    function login() {
      const user = document.getElementById("username").value;
      const pass = document.getElementById("password").value;
      const error = document.getElementById("error");

      if (user === "admin" && pass === "1234") {
        error.textContent = "";
        showSection('dashboard');
      } else {
        error.textContent = "Invalid credentials! Use admin / 1234";
      }
    }

    // ===== LOGOUT FUNCTION =====
    function logout() {
      showSection('home');
    }

    // ===== SAMPLE DATA =====
    const workers = [
      { name: "Arjun", skills: ["Welding", "Maintenance"], experience: 4, available: true },
      { name: "Priya", skills: ["Quality Check", "Assembly"], experience: 2, available: true },
      { name: "Rahul", skills: ["CNC Operation", "Programming"], experience: 5, available: false },
      { name: "Meena", skills: ["Packaging", "Inventory"], experience: 3, available: true },
    ];

    const tasks = [
      { title: "CNC Machine Operation", requiredSkill: "CNC Operation" },
      { title: "Assembly Line Supervision", requiredSkill: "Assembly" },
      { title: "Inventory Sorting", requiredSkill: "Inventory" },
      { title: "Welding Maintenance", requiredSkill: "Welding" },
    ];

    // ===== TASK ASSIGNMENT LOGIC =====
    function assignTasks() {
      let output = "<ul class='list-disc ml-6'>";
      tasks.forEach(task => {
        const match = workers.find(w => w.skills.includes(task.requiredSkill) && w.available);
        if (match) {
          output += `<li><b>${task.title}</b> → Assigned to <b>${match.name}</b></li>`;
        } else {
          output += `<li><b>${task.title}</b> → <span class='text-red-600'>No available worker</span></li>`;
        }
      });
      output += "</ul>";
      document.getElementById("assignmentOutput").innerHTML = output;
      renderChart();
    }

    // ===== CHART =====
    function renderChart() {
      const ctx = document.getElementById("productivityChart").getContext("2d");
      new Chart(ctx, {
        type: "bar",
        data: {
          labels: ["Arjun", "Priya", "Rahul", "Meena"],
          datasets: [{
            label: "Productivity Score",
            data: [85, 78, 90, 80],
            backgroundColor: ["#2563eb", "#1e40af", "#3b82f6", "#60a5fa"]
          }]
        },
        options: {
          responsive: true,
          scales: {
            y: { beginAtZero: true }
          }
        }
      });
    }

    // Show home section initially
    showSection('home');
  </script>
</body>
</html>
